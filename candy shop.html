<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Candy Inventory</title>
  </head>
  <body>
    <h1>Candy Inventory</h1>

    <form id="candyForm">
      <label for="name">Name:</label>
      <input type="text" id="name" required /><br /><br />

      <label for="description">Description:</label>
      <input type="text" id="description" required /><br /><br />

      <label for="price">Price:</label>
      <input type="number" id="price" step="0.01" required /><br /><br />

      <label for="quantity">Quantity:</label>
      <input type="number" id="quantity" required /><br /><br />

      <button type="button" onclick="addCandy()">Add Candy</button>
    </form>

    <h2>Inventory</h2>
    <ul id="candyList"></ul>

    <script>
      const inventory = [];

      // Function to add a new candy item
      function addCandy() {
        const name = document.getElementById("name").value;
        const description = document.getElementById("description").value;
        const price = parseFloat(document.getElementById("price").value);
        const quantity = parseInt(document.getElementById("quantity").value);

        // Create a new candy object
        const candy = {
          name: name,
          description: description,
          price: price,
          quantity: quantity,
        };

        inventory.push(candy);
        updateInventoryDisplay();
      }

      // Function to update the displayed inventory
      function updateInventoryDisplay() {
        const candyList = document.getElementById("candyList");
        candyList.innerHTML = "";

        inventory.forEach((candy) => {
          const listItem = document.createElement("li");
          listItem.textContent = `Name: ${candy.name}, Description: ${candy.description}, Price: $${candy.price}, Quantity: ${candy.quantity}`;

          const buyButtons = document.createElement("div");
          buyButtons.innerHTML = `
          <button onclick="buyCandy('${candy.name}', 1)">Buy 1</button>
          <button onclick="buyCandy('${candy.name}', 2)">Buy 2</button>
          <button onclick="buyCandy('${candy.name}', 3)">Buy 3</button>
        `;
          listItem.appendChild(buyButtons);
          candyList.appendChild(listItem);
        });
      }

      // Function to simulate buying candy
      function buyCandy(name, quantity = 1) {
        const candyIndex = inventory.findIndex((candy) => candy.name === name);
        if (candyIndex !== -1) {
          if (inventory[candyIndex].quantity >= quantity) {
            inventory[candyIndex].quantity -= quantity;
            updateInventoryDisplay();
            alert(`You bought ${quantity} ${name}(s)!`);
          } else {
            alert(`Sorry, ${name} is out of stock.`);
          }
        }
      }
    </script>
  </body>
</html>
